/* 无障碍样式 */

/* 色弱友好模式 */
.color-blind-mode {
  /* 调整颜色对比度 */
  --primary-color: #1e40af; /* 更深的蓝色 */
  --success-color: #059669; /* 更深的绿色 */
  --warning-color: #d97706; /* 更深的橙色 */
  --error-color: #dc2626; /* 更深的红色 */
  --text-color: #111827; /* 更深的文字颜色 */
  --bg-color: #ffffff; /* 纯白背景 */
}

.color-blind-mode .card {
  border: 2px solid var(--primary-color);
  background-color: var(--bg-color);
}

.color-blind-mode .button {
  border: 2px solid currentColor;
  font-weight: bold;
}

.color-blind-mode .progress-bar {
  background-color: var(--primary-color);
  border: 1px solid #000;
}

.color-blind-mode .badge {
  border: 1px solid #000;
  font-weight: bold;
}

/* 减少动效模式 */
.reduced-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

.reduced-motion .card:hover {
  transform: none !important;
  box-shadow: none !important;
}

.reduced-motion .button:hover {
  transform: none !important;
}

.reduced-motion .progress-bar {
  transition: none !important;
}

/* 高对比度模式（色弱友好的增强版） */
.color-blind-mode.high-contrast {
  --primary-color: #000000;
  --success-color: #006600;
  --warning-color: #cc6600;
  --error-color: #cc0000;
  --text-color: #000000;
  --bg-color: #ffffff;
}

.color-blind-mode.high-contrast .card {
  border: 3px solid #000000;
  background-color: #ffffff;
  color: #000000;
}

.color-blind-mode.high-contrast .button {
  border: 2px solid #000000;
  background-color: #ffffff;
  color: #000000;
}

.color-blind-mode.high-contrast .button:hover {
  background-color: #000000;
  color: #ffffff;
}

/* 焦点指示器增强 */
.color-blind-mode button:focus,
.color-blind-mode input:focus,
.color-blind-mode select:focus,
.color-blind-mode textarea:focus {
  outline: 3px solid #ff0000;
  outline-offset: 2px;
}

.reduced-motion button:focus,
.reduced-motion input:focus,
.reduced-motion select:focus,
.reduced-motion textarea:focus {
  outline: 2px solid #0066cc;
  outline-offset: 1px;
}

/* 文字大小调整 */
.large-text {
  font-size: 1.2em;
}

.large-text h1 { font-size: 2.5em; }
.large-text h2 { font-size: 2em; }
.large-text h3 { font-size: 1.75em; }
.large-text h4 { font-size: 1.5em; }
.large-text p { font-size: 1.2em; }
.large-text button { font-size: 1.2em; }
.large-text input { font-size: 1.2em; }

/* 键盘导航增强 */
.keyboard-navigation button:focus,
.keyboard-navigation input:focus,
.keyboard-navigation select:focus,
.keyboard-navigation textarea:focus,
.keyboard-navigation a:focus {
  outline: 2px solid #0066cc;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.3);
}

/* 屏幕阅读器专用样式 */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* 跳过链接 */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: #000;
  color: #fff;
  padding: 8px;
  text-decoration: none;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}

/* 游戏特定的无障碍样式 */
.color-blind-mode .led-grid .led-on {
  background-color: #000000 !important;
  border: 2px solid #ffffff !important;
}

.color-blind-mode .led-grid .led-off {
  background-color: #ffffff !important;
  border: 2px solid #000000 !important;
}

.color-blind-mode .maze-grid .wall {
  background-color: #000000 !important;
}

.color-blind-mode .maze-grid .path {
  background-color: #ffffff !important;
}

.color-blind-mode .maze-grid .robot {
  background-color: #ff0000 !important;
  border: 2px solid #000000 !important;
}

.color-blind-mode .maze-grid .goal {
  background-color: #00ff00 !important;
  border: 2px solid #000000 !important;
}

/* 减少动效的游戏样式 */
.reduced-motion .led-grid .led {
  transition: none !important;
}

.reduced-motion .maze-grid .robot {
  transition: none !important;
}

.reduced-motion .progress-bar {
  animation: none !important;
}

.reduced-motion .reward-popup {
  animation: none !important;
  transform: none !important;
}
