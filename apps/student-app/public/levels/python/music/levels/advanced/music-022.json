{
  "id": "py-music-022",
  "title": "旋律生成器",
  "lang": "python",
  "gameType": "music",
  "difficulty": 3,
  "story": "用算法生成美妙的旋律。",
  "goals": ["用算法生成音阶旋律"],
  "starter": {
    "blockly": "<xml/>",
    "code": "# TODO: 用算法生成旋律\n# 创建渐强然后渐弱的旋律"
  },
  "solution": "# 提示：先上行后下行，时值逐步变化。",
  "grader": {
    "mode": "event",
    "events": {
      "channel": "music",
      "collectFromStdout": true,
      "mapRule": "stdout line 'note t p d'"
    },
    "checks": [
      {
        "type": "eventSet",
        "expect": [
          "note 0 C 1.0",
          "note 1 D 1.2",
          "note 2 E 1.4",
          "note 3 F 1.6",
          "note 4 G 1.8",
          "note 5 A 2.0",
          "note 6 B 2.2",
          "note 7 G 2.2",
          "note 8 F 2.0",
          "note 9 E 1.8",
          "note 10 D 1.6",
          "note 11 C 1.4"
        ]
      }
    ],
    "constraints": {
      "maxTimeMs": 3000,
      "maxMemMB": 64,
      "requireStructures": ["def"]
    },
    "referenceHash": "772fa454"
  },
  "rewards": {
    "xp": 45,
    "coins": 22,
    "badges": ["算法作曲家"]
  }
}
