🎮 儿童编程学习平台 — 游戏设计文档（GDD）
1. 核心定位与玩法总览

用户群体：10–15 岁学生，处于逻辑思维与抽象能力快速成长阶段。

学习目标：逐步掌握编程基础知识（顺序 → 条件 → 循环 → 函数 → 数据结构 → 综合项目）。

形式定位：养成 + 闯关，让学习过程游戏化。

技术主线：Python（必修），JavaScript（选修）。

交互方式：

初期：Blockly 拖拽积木

中期：积木 + 代码对照视图

后期：直接写 Python/JS 代码

游戏循环：

领取任务/进入关卡

编写/拼装程序

运行 → 沙盒判题

获得奖励（XP、徽章、金币）

宠物/实验岛成长

解锁下一章节/隐藏挑战

养成元素：宠物/实验岛外观升级，奖励皮肤、称号，连续学习（Streak）奖励。

激励方式：

成就系统（徽章）

可视化成长（宠物进化、实验岛扩建）

同伴对比（班级排行、家长仪表盘）

2. 世界与章节（12 周主线；Python）

每周 1 个世界（World），每世界 6–8 关卡，共约 80+ 关。
学习节奏：由浅入深，螺旋上升。

周次	世界名	核心主题	示例关卡
W1	编程启航	顺序、输出	打印“Hello, Island!”
W2	变量与表达式	基础数据类型、计算	营养液配比
W3	条件判断	if/else	灯塔信号
W4	循环基础	for	点亮 5 盏灯
W5	循环+条件	嵌套逻辑	绘制 LED 图案
W6	列表	遍历/索引	资源采集统计
W7	函数	抽象与复用	机器人清洁路径
W8	字典与集合	查找/去重	生物图鉴去重
W9	字符串处理	切片/拼接	电报码解码
W10	模块	random/time	简单动画生成
W11	文件与 I/O	数据读取	日志过滤
W12	综合项目	作品创作	小型游戏/像素绘/音乐编程
3. 关卡类型设计

IO 输出型：输入数据 → 输出正确结果。

LED 网格型：点亮灯泡/图案（事件比对）。

机器人迷宫型：控制机器人走迷宫。

像素画/绘图型：绘制图案（像素矩阵/路径对比）。

音乐编程型：生成旋律（音符序列对比）。

改错/填空型：修复错误代码或补全缺口。

开放创作型：自由作品，教师点评。


4. 判题与验证机制

黑盒：输入 → 输出比对（精确 / 容差 / 正则）。

事件流比对：收集运行事件（灯泡点亮顺序、机器人路径），与期望序列比对。

结构检查：AST 分析，要求使用特定语法（如 for 循环）。

限制条件：执行时间、内存限制；禁止危险库调用。

评分标准：

通关判定（Pass/Fail）

星级（3 星最佳）

XP 与徽章奖励

5. 奖励与成长系统

XP：积累经验升级。

金币：用于购买装饰/皮肤。

徽章：完成特定条件（如“循环达人”）。

宠物/实验岛成长：随等级解锁外观。

连续学习奖励：Streak 奖励称号/皮肤。

6. 示例关卡（8 个 Demo）

W1-L1：打印“Hello, Island!”（IO 精确匹配）

W2-L3：营养液配比（数值计算，容差判题）

W3-L2：灯塔信号（条件判断，奇偶数点亮）

W4-L2：点亮 5 盏灯（for 循环，事件流 on0→on4）

W5-L4：绘制笑脸（5×5 像素画）

W6-L3：资源统计（列表遍历）

W7-L3：机器人迷宫（函数抽象，走到终点）

W9-L2：电报码解码（字符串替换与切分）

7. 指标与家长/教师视角

学生端：XP、等级、连续学习天数、作品展示。

家长端：学习时间、完成率、孩子 vs 班级匿名分位。

教师端：班级概览、学生进度矩阵、卡关预警。

审计：所有查看与导出操作都写入日志。

8. 技术落地关联

前端：Taro/React（学生、家长、教师三端）

关卡数据：JSON 格式，存储在 levels 表或文件中

判题引擎：独立服务（/execute + Grader）

奖励计算：后端返回 XP/徽章，前端触发动效

指标快照：存储在 metrics_snapshots，支持趋势/对比

9. 开发落地建议

先做 8 条 Demo 关卡（W1–W3），验证闭环：领取 → 提交 → 判题 → 奖励 → 指标记录。

实现 事件回放协议（LED 点亮、机器人路径）。

打通 前端实验室 UI 与 判题接口。

逐周上线新章节，形成持续内容供应。

10. 代表性玩法设计（6 大模块）
10.1 LED 网格（grid-led）

场景：一排/矩形 LED，孩子需要按规则点亮/熄灭

技能：循环、索引、条件

事件：on{i}, off{i}

判题：序列完全匹配或“最终状态”匹配

扩展：绘制图案（心形、笑脸）

样例关卡（W4-L2）
目标：依次点亮 5 盏灯

必须使用 for 循环

允许延时/打印，但不计入评分

事件匹配：on0→on1→on2→on3→on4

10.2 机器人迷宫（maze-bot）

场景：网格迷宫，机器人从起点到终点

技能：控制流、函数抽象、循环

API（对学生暴露）：move(), turn_left(), scan()

事件：step(x,y), turn(dir)

判题：到达终点；步数 ≤ 阈值 → 3 星；否则 2/1 星

样例关卡（W7-L3）

要求：用函数封装“右手法则”

结构检查：AST 中必须出现 def 且被调用

10.3 海龟绘图（turtle）

场景：画线/图案（星形、雪花、分形）

API：forward(d), left(deg), right(deg), pen_up()

事件：line(x1,y1,x2,y2)

判题：拓扑近似匹配（线段集合）+ 容差（像素距离<ε）

10.4 像素画（pixel-art）

场景：N×N 画布上按颜色编号填格

技能：二维列表、循环嵌套

事件：paint(x,y,color)

判题：终局像素矩阵相等；违规颜色记入 violations

10.5 音乐序列器（music）

场景：创建节拍/旋律（C D E…），时值 1/2/4

技能：列表/字典、时间序列

事件：note(tick, pitch, dur)

判题：序列匹配（pitch 序列与 tick 对齐）

10.6 数据处理（io-data）

场景：读取给定数据（模拟文件/传感器），输出统计结果

技能：列表/字典/字符串处理

判题：文本精确/容差/正则；大规模样例随机抽查（防硬编码）
