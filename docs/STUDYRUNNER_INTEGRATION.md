# StudyRunner è¯¾ç¨‹å­¦ä¹ ç»„ä»¶é›†æˆæ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

å·²æˆåŠŸå°† `kids-coding-platform-addon-v1` ä¸­çš„ StudyRunner ç»„ä»¶é›†æˆåˆ°å­¦ç”Ÿç«¯åº”ç”¨ä¸­ï¼Œå¹¶å®Œæˆè·¯ç”±é…ç½®ã€‚

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. åˆ›å»ºå­¦ä¹ é¡µé¢ç»„ä»¶

- **æ–‡ä»¶**: `apps/student-app/src/pages/Learn/LearnPage.tsx`
- **åŠŸèƒ½**:
  - æ¥æ”¶ URL å‚æ•° (language, game, level)
  - å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†
  - æ¸²æŸ“ StudyRunner ç»„ä»¶

### 2. æ›´æ–°è·¯ç”±é…ç½®

- **æ–‡ä»¶**: `apps/student-app/src/routes.tsx`
- **æ–°å¢è·¯ç”±**:
  ```typescript
  {
    path: 'learn/:language/:game/:level',
    element: withSuspense(<LearnPage />, 'å…³å¡åŠ è½½ä¸­...'),
  }
  ```

### 3. ä¼˜åŒ– StudyRunner ç»„ä»¶

- **æ–‡ä»¶**: `apps/student-app/src/components/StudyRunner.tsx`
- **æ”¹è¿›å†…å®¹**:
  - âœ… ä½¿ç”¨é¡¹ç›®ç°æœ‰çš„æ ·å¼ç±» (`.card`, `.btn`, `.alert` ç­‰)
  - âœ… æ·»åŠ åŠ è½½å’Œé”™è¯¯çŠ¶æ€å¤„ç†
  - âœ… æ·»åŠ ä»£ç é‡ç½®åŠŸèƒ½
  - âœ… ä¼˜åŒ–ä»£ç ç¼–è¾‘å™¨æ ·å¼ï¼ˆæ·±è‰²ä¸»é¢˜ï¼ŒFira Code å­—ä½“ï¼‰
  - âœ… æ·»åŠ å‚è€ƒç­”æ¡ˆè­¦å‘Šæç¤º
  - âœ… é€šå…³åæ˜¾ç¤º"ä¸‹ä¸€å…³"æŒ‰é’®
  - âœ… æ˜¾ç¤ºå…³å¡æç¤ºï¼ˆhintsï¼‰
  - âœ… æ”¹è¿›ç”¨æˆ·åé¦ˆå’Œäº¤äº’ä½“éªŒ

### 4. æ·»åŠ æµ‹è¯•å…¥å£

- **æ–‡ä»¶**: `apps/student-app/src/pages/TestPage.tsx`
- **åŠŸèƒ½**: åœ¨æµ‹è¯•é¡µé¢æ·»åŠ äº†å¿«é€Ÿè®¿é—®æŒ‰é’®ï¼Œæ–¹ä¾¿æµ‹è¯• 6 ä¸ªæ¸¸æˆï¼ˆPython å’Œ JavaScript å„ 3 ä¸ªï¼‰

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### URL æ ¼å¼

```
/learn/:language/:game/:level
```

### å‚æ•°è¯´æ˜

- `language`: ç¼–ç¨‹è¯­è¨€ï¼Œæ”¯æŒ `python` æˆ– `javascript`
- `game`: æ¸¸æˆç±»å‹ï¼Œæ”¯æŒï¼š
  - `maze_navigator` - è¿·å®«å¯¼èˆª
  - `turtle_artist` - æµ·é¾Ÿç”»å®¶
  - `robot_sorter` - æœºå™¨äººåˆ†æ‹£
- `level`: å…³å¡ç¼–å·ï¼ˆ1-10ï¼‰

### ç¤ºä¾‹ URL

```
/learn/python/maze_navigator/1
/learn/javascript/turtle_artist/5
/learn/python/robot_sorter/10
```

## ğŸ§ª æµ‹è¯•æ–¹æ³•

### æ–¹æ³• 1ï¼šé€šè¿‡æµ‹è¯•é¡µé¢

1. å¯åŠ¨å­¦ç”Ÿç«¯åº”ç”¨ï¼š

   ```bash
   pnpm --filter student-app dev
   ```

2. è®¿é—®æµ‹è¯•é¡µé¢ï¼š

   ```
   http://localhost:5173/test
   ```

3. ç‚¹å‡»ä»»æ„æ¸¸æˆæŒ‰é’®å¼€å§‹æµ‹è¯•

### æ–¹æ³• 2ï¼šç›´æ¥è®¿é—® URL

```
http://localhost:5173/learn/python/maze_navigator/1
```

### æ–¹æ³• 3ï¼šç¡®ä¿åç«¯ API è¿è¡Œ

StudyRunner éœ€è¦è¿æ¥åˆ°åç«¯ API æ¥è·å–å…³å¡æ•°æ®ï¼š

```bash
# å¯åŠ¨åç«¯ API
pnpm --filter api dev
```

åç«¯å°†åœ¨ `http://localhost:3000` è¿è¡Œï¼Œæä¾›ä»¥ä¸‹ç«¯ç‚¹ï¼š

- `GET /api/curriculum/:language/:game/:level` - è·å–å…³å¡æ•°æ®
- `POST /api/execute` - æ‰§è¡Œä»£ç 
- `POST /api/judge` - åˆ¤é¢˜

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### StudyRunner ç»„ä»¶åŠŸèƒ½

- âœ… **å…³å¡ä¿¡æ¯å±•ç¤º**: æ ‡é¢˜ã€æ•…äº‹ã€ç›®æ ‡
- âœ… **ä»£ç ç¼–è¾‘å™¨**: æ”¯æŒå®æ—¶ç¼–è¾‘ï¼Œæ·±è‰²ä¸»é¢˜
- âœ… **ä»£ç é‡ç½®**: ä¸€é”®æ¢å¤èµ·å§‹ä»£ç 
- âœ… **è¿è¡Œå¹¶åˆ¤é¢˜**: æäº¤ä»£ç æ‰§è¡Œå’Œè‡ªåŠ¨åˆ¤é¢˜
- âœ… **å‚è€ƒç­”æ¡ˆ**: å¯æŸ¥çœ‹/éšè—å‚è€ƒè§£å†³æ–¹æ¡ˆ
- âœ… **æ‰§è¡Œæ—¥å¿—**: å®æ—¶æ˜¾ç¤ºè¿è¡Œç»“æœ
- âœ… **é€šå…³åé¦ˆ**: æ¸…æ™°çš„æˆåŠŸ/å¤±è´¥çŠ¶æ€
- âœ… **ä¸‹ä¸€å…³å¯¼èˆª**: é€šå…³åè‡ªåŠ¨æç¤ºä¸‹ä¸€å…³
- âœ… **æç¤ºç³»ç»Ÿ**: æ˜¾ç¤ºå…³å¡æç¤ºå¸®åŠ©å­¦ä¹ 
- âœ… **é”™è¯¯å¤„ç†**: å®Œå–„çš„åŠ è½½å’Œé”™è¯¯çŠ¶æ€å¤„ç†

## ğŸ® æ”¯æŒçš„æ¸¸æˆå’Œå…³å¡

### Python (å…± 30 å…³)

- ğŸ§­ **è¿·å®«å¯¼èˆª** (maze_navigator) - 10 å…³
- ğŸ¢ **æµ·é¾Ÿç”»å®¶** (turtle_artist) - 10 å…³
- ğŸ¤– **æœºå™¨äººåˆ†æ‹£** (robot_sorter) - 10 å…³

### JavaScript (å…± 30 å…³)

- ğŸ§­ **è¿·å®«å¯¼èˆª** (maze_navigator) - 10 å…³
- ğŸ¢ **æµ·é¾Ÿç”»å®¶** (turtle_artist) - 10 å…³
- ğŸ¤– **æœºå™¨äººåˆ†æ‹£** (robot_sorter) - 10 å…³

**æ€»è®¡**: 60 å…³å¡

## ğŸ”Œ API é›†æˆ

### å‰ç«¯æœåŠ¡å±‚

- `apps/student-app/src/services/api.ts` - HTTP å®¢æˆ·ç«¯
- `apps/student-app/src/services/curriculum.ts` - è¯¾ç¨‹ API
- `apps/student-app/src/services/judge.ts` - åˆ¤é¢˜ API

### åç«¯æ¨¡å—

- `server/api/src/modules/curriculum/` - è¯¾ç¨‹æ¨¡å—
- `server/api/src/modules/judge/` - åˆ¤é¢˜æ¨¡å—
- `server/api/src/modules/execute/` - æ‰§è¡Œæ¨¡å—

### åˆ¤é¢˜ç±»å‹

1. **api_events** (è¿·å®«å¯¼èˆª)
   - æ£€æµ‹æ˜¯å¦åˆ°è¾¾ç»ˆç‚¹
   - éªŒè¯æ­¥æ•°é™åˆ¶

2. **svg_path_similarity** (æµ·é¾Ÿç”»å®¶)
   - å¯¹æ¯”ç»˜åˆ¶è·¯å¾„æ®µæ•°
   - éªŒè¯è§’åº¦å’Œé•¿åº¦

3. **unit_tests** (æœºå™¨äººåˆ†æ‹£)
   - ç»“æœä¸æœŸæœ›å€¼å¯¹æ¯”
   - æ”¯æŒæ‰©å±•ä¸ºæ²™ç›’æ‰§è¡Œ

## ğŸ“ æ–‡ä»¶æ¸…å•

### æ–°å¢æ–‡ä»¶

- `apps/student-app/src/pages/Learn/LearnPage.tsx`
- `docs/STUDYRUNNER_INTEGRATION.md` (æœ¬æ–‡ä»¶)

### ä¿®æ”¹æ–‡ä»¶

- `apps/student-app/src/routes.tsx` - æ·»åŠ  `/learn/:language/:game/:level` è·¯ç”±
- `apps/student-app/src/components/StudyRunner.tsx` - ä¼˜åŒ–æ ·å¼å’ŒåŠŸèƒ½
- `apps/student-app/src/pages/TestPage.tsx` - æ·»åŠ æµ‹è¯•å…¥å£

### ç°æœ‰é›†æˆæ–‡ä»¶ï¼ˆå·²å°±ä½ï¼‰

- `apps/student-app/src/services/api.ts`
- `apps/student-app/src/services/curriculum.ts`
- `apps/student-app/src/services/judge.ts`
- `server/api/src/modules/curriculum/`
- `server/api/src/modules/judge/`
- `server/api/src/modules/execute/`
- `server/api/src/data/curriculum/` (å…³å¡æ•°æ®)

## ğŸ¨ æ ·å¼è¯´æ˜

### ä½¿ç”¨çš„æ ·å¼ç±»

- `.card` - å¡ç‰‡å®¹å™¨
- `.btn`, `.btn-primary`, `.btn-secondary` - æŒ‰é’®
- `.alert`, `.alert-success`, `.alert-warning`, `.alert-error` - æç¤ºæ¡†
- `.kc-section-title` - ç« èŠ‚æ ‡é¢˜
- `.text-muted` - æ¬¡è¦æ–‡æœ¬

### è‡ªå®šä¹‰æ ·å¼

- ä»£ç ç¼–è¾‘å™¨ï¼šæ·±è‰²ä¸»é¢˜ (#1e1e1e èƒŒæ™¯)
- ç›®æ ‡åŒºåŸŸï¼šæµ…è“è‰²èƒŒæ™¯ (#f0f7ff)
- å‚è€ƒç­”æ¡ˆè­¦å‘Šï¼šæµ…é»„è‰²èƒŒæ™¯ (#fff3cd)

## ğŸ”§ åç»­ä¼˜åŒ–å»ºè®®

1. **ä»£ç ç¼–è¾‘å™¨å¢å¼º**
   - é›†æˆ Monaco Editor æˆ– CodeMirror
   - æ·»åŠ è¯­æ³•é«˜äº®
   - æ·»åŠ ä»£ç è¡¥å…¨

2. **å¯è§†åŒ–å¢å¼º**
   - è¿·å®«å¯¼èˆªï¼šæ·»åŠ ç½‘æ ¼å¯è§†åŒ–
   - æµ·é¾Ÿç”»å®¶ï¼šæ·»åŠ  Canvas ç»˜å›¾é¢„è§ˆ
   - æœºå™¨äººåˆ†æ‹£ï¼šæ·»åŠ åŠ¨ç”»æ¼”ç¤º

3. **åŠŸèƒ½æ‰©å±•**
   - ä¿å­˜è¿›åº¦åˆ°æ•°æ®åº“
   - è®°å½•ä»£ç å†å²ç‰ˆæœ¬
   - æ·»åŠ ä»£ç åˆ†äº«åŠŸèƒ½
   - é›†æˆæ˜Ÿçº§è¯„ä»·ç³»ç»Ÿ

4. **æ€§èƒ½ä¼˜åŒ–**
   - æ·»åŠ ä»£ç ç¼“å­˜ï¼ˆlocalStorageï¼‰
   - ä¼˜åŒ– API è¯·æ±‚é¢‘ç‡
   - æ·»åŠ ç¦»çº¿æ”¯æŒ

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜ï¼šé¡µé¢æ˜¾ç¤º"åŠ è½½å…³å¡å¤±è´¥"

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®è®¤åç«¯ API å·²å¯åŠ¨ (`pnpm --filter api dev`)
2. æ£€æŸ¥ API åœ°å€æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚é”™è¯¯

### é—®é¢˜ï¼šè·¯ç”±æ— æ³•è®¿é—®

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®è®¤å‰ç«¯åº”ç”¨å·²é‡æ–°ç¼–è¯‘
2. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
3. æ£€æŸ¥ URL å‚æ•°æ ¼å¼æ˜¯å¦æ­£ç¡®

### é—®é¢˜ï¼šä»£ç ç¼–è¾‘å™¨æ ·å¼å¼‚å¸¸

**è§£å†³æ–¹æ¡ˆ**:

1. ç¡®è®¤å·²å¯¼å…¥é¡¹ç›®çš„å…¨å±€æ ·å¼
2. æ£€æŸ¥ CSS å˜é‡æ˜¯å¦å®šä¹‰
3. å°è¯•ç¡¬åˆ·æ–°ï¼ˆCtrl+Shift+Rï¼‰

## ğŸ“ è”ç³»ä¸æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š

- é¡¹ç›® README: `/README.md`
- API æ–‡æ¡£: `/docs/api/`
- æ¶æ„å†³ç­–: `/docs/adr/`

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025-10-07  
**çŠ¶æ€**: âœ… å·²å®Œæˆå¹¶æµ‹è¯•
